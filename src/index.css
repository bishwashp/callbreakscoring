@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --radius: 0.5rem;
    
    /* Fluid Typography using clamp() */
    --font-size-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
    --font-size-sm: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
    --font-size-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
    --font-size-lg: clamp(1.125rem, 1rem + 0.625vw, 1.25rem);
    --font-size-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
    --font-size-2xl: clamp(1.5rem, 1.3rem + 1vw, 2rem);
    --font-size-3xl: clamp(1.875rem, 1.6rem + 1.375vw, 2.5rem);
    --font-size-4xl: clamp(2.25rem, 1.9rem + 1.75vw, 3rem);
    
    /* Fluid Spacing */
    --spacing-xs: clamp(0.25rem, 0.2rem + 0.25vw, 0.5rem);
    --spacing-sm: clamp(0.5rem, 0.4rem + 0.5vw, 0.75rem);
    --spacing-md: clamp(0.75rem, 0.6rem + 0.75vw, 1rem);
    --spacing-lg: clamp(1rem, 0.8rem + 1vw, 1.5rem);
    --spacing-xl: clamp(1.5rem, 1.2rem + 1.5vw, 2rem);
    
    /* Touch Target Minimum */
    --touch-target-min: 48px;
    
    /* Safe Area Insets for Notched Phones */
    --safe-area-top: env(safe-area-inset-top);
    --safe-area-right: env(safe-area-inset-right);
    --safe-area-bottom: env(safe-area-inset-bottom);
    --safe-area-left: env(safe-area-inset-left);
  }
  
  * {
    /* Better touch scrolling on iOS */
    -webkit-tap-highlight-color: rgba(124, 58, 237, 0.1);
  }
  
  html {
    /* Prevent zoom on input focus (16px minimum) */
    font-size: 16px;
    /* Enable smooth scrolling */
    scroll-behavior: smooth;
    /* Support safe areas */
    padding: var(--safe-area-top) var(--safe-area-right) var(--safe-area-bottom) var(--safe-area-left);
  }
  
  body {
    @apply bg-gray-50 text-gray-900;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Use fluid typography */
    font-size: var(--font-size-base);
    /* Better text rendering on mobile */
    text-rendering: optimizeLegibility;
  }
  
  /* Prevent zoom on input focus for iOS */
  input[type="text"],
  input[type="number"],
  input[type="email"],
  input[type="tel"],
  select,
  textarea {
    font-size: 16px; /* Minimum to prevent zoom */
  }
  
  /* Better touch targets for all interactive elements */
  button,
  a,
  input,
  select,
  textarea {
    min-height: var(--touch-target-min);
    min-width: var(--touch-target-min);
  }
}

@layer utilities {
  /* Fluid spacing utilities */
  .fluid-text-xs { font-size: var(--font-size-xs); }
  .fluid-text-sm { font-size: var(--font-size-sm); }
  .fluid-text-base { font-size: var(--font-size-base); }
  .fluid-text-lg { font-size: var(--font-size-lg); }
  .fluid-text-xl { font-size: var(--font-size-xl); }
  .fluid-text-2xl { font-size: var(--font-size-2xl); }
  .fluid-text-3xl { font-size: var(--font-size-3xl); }
  .fluid-text-4xl { font-size: var(--font-size-4xl); }
  
  /* Touch-friendly active states */
  .touch-active {
    @apply active:scale-95 active:opacity-80 transition-all duration-100;
  }
  
  /* Better tap feedback */
  .tap-highlight {
    -webkit-tap-highlight-color: rgba(124, 58, 237, 0.2);
  }
}
